# 项目现状与未来计划

## 一、 当前状态 (As of 2025/07/23)

我们成功完成了“实现多词库学习功能”的后端开发任务。

**核心成果**:
- **数据库升级**: `words` 表已成功添加 `source` 字段，用于区分单词来源，并建立了相应的索引和约束。
- **数据导入更新**: `seeder` 脚本已更新，现在可以在导入单词时为其打上来源标签（如 'KaoYan'）。
- **后端 API 升级**:
    - 新增了 `GET /api/v1/auth/vocab-sources` 接口，允许前端获取所有可用的词库列表。
    - 改造了 `GET /api/v1/learn/next` 核心学习接口，使其支持 `source` 参数，可以根据用户选择返回特定词库的单词。
- **问题修复**: 解决了因路由重构导致的前后端 API 路径不匹配问题，修复了注册和登录功能。同时解决了数个由 Docker 缓存和网络代理引起的部署问题。

**总结**: 项目的后端架构现在更加灵活和可扩展，为支持多词库学习打下了坚实的基础。认证和核心学习流程已恢复正常。

---

## 二、 下一阶段计划：前端学习界面用户体验 (UX) 优化

**核心目标**: 优化核心学习页面 (`LearnPage`) 的交互和视觉呈现，使其更符合直觉和用户习惯。

根据您的要求，具体计划如下：

### 步骤 1: 突出显示核心单词

- **任务**: 在展示的例句中，将需要学习的目标单词（lemma）以 **加粗** 的形式突出显示。
- **目的**: 帮助用户在上下文中快速定位核心单词，提高学习效率。
- **实施**: 修改 `LearnPage.jsx` 组件，在渲染例句时，通过字符串替换或分段渲染的方式实现单词加粗。

### 步骤 2: 优化按钮布局和样式

- **任务**: 调整“认识”、“不认识”、“模糊”三个按钮的样式。
- **目的**: 解决当前按钮宽度与屏幕等宽、缺乏间距的问题，提升视觉美感和操作体验。
- **实施**:
    1.  修改 `Button.jsx` 组件的 CSS 类，使其不再是 `w-full`。
    2.  在 `LearnPage.jsx` 中，将三个按钮包裹在一个 flex 容器中，设置 `gap` 或 `margin` 来增加按钮间的距离。

### 步骤 3: 实现“两步式”单词揭示交互

- **任务**: 重新设计单词学习流程。
    1.  **初始状态**: 页面加载后，只显示带有 **加粗** 目标单词的例句。单词的释义和操作按钮将被隐藏。
    2.  **揭示状态**: 用户点击页面任意区域（如例句卡片）后，再显示单词的词性、中文释义以及三个操作按钮。
- **目的**: 模拟真实的“回忆-检查”学习流程，避免用户第一眼看到答案，从而加强记忆效果。
- **实施**: 在 `LearnPage.jsx` 中引入一个新的状态变量（例如 `isRevealed`），并使用它来条件性地渲染单词详情和按钮。给包含例句的容器元素添加 `onClick` 事件处理器来切换这个状态。

### 步骤 4: 新增例句翻译的揭示功能

- **任务**: 在用户点击揭示单词释义的同时，在英文例句下方显示其对应的中文翻译。
- **目的**: 在用户检查单词含义时，提供完整的句子上下文，帮助其更深刻地理解单词用法。
- **实施**: 修改 `LearnPage.jsx`，利用现有的 `isRevealed` 状态，当其为 `true` 时，在不影响原布局的前提下，渲染后端返回的 `exampleSentenceTranslation` 字段。

---

这个计划将显著提升应用的核心学习体验，使其更加人性化和高效。 